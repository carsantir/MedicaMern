{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\carsa\\\\Desktop\\\\pruebaUsuarios\\\\frontend\\\\src\\\\components\\\\auth\\\\RegisterMedic.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport UserContext from \"../../context/userContext\";\nimport ErrorNotice from \"../misc/ErrorNotice\";\nimport Select from 'react-select';\nimport Async from 'react-async';\nimport api from '../../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Register() {\n  _s();\n\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [passwordCheck, setPasswordCheck] = useState();\n  const [nickname, setNickname] = useState();\n  const rol = \"Médico\";\n  const [nombre, setNombre] = useState();\n  const [apellidos, setApellidos] = useState();\n  const [fechaNacimiento, setFechaNacimiento] = useState();\n  const [dni, setDni] = useState();\n  const [sexo, setSexo] = useState();\n  const [direccion, setDireccion] = useState();\n  const [ciudad, setCiudad] = useState();\n  const [localidad, setLocalidad] = useState();\n  const [cp, setCp] = useState();\n  const [telefono, setTelefono] = useState();\n  const [sector, setSector] = useState();\n  const [error, setError] = useState();\n  const history = useHistory();\n\n  const onChange = async selectedOption => {\n    console.log(`Option selected:`, selectedOption);\n    setSector(selectedOption.val);\n  };\n\n  const submit = async e => {\n    e.preventDefault();\n\n    try {\n      const newUser = {\n        email,\n        password,\n        passwordCheck,\n        nickname,\n        rol,\n        nombre,\n        apellidos,\n        fechaNacimiento,\n        dni,\n        sexo,\n        direccion,\n        ciudad,\n        localidad,\n        cp,\n        telefono,\n        sector\n      };\n      await axios.post(\"http://localhost:5000/medics/register\", newUser); // const loginResponse = await axios.post(\"http://localhost:5000/users/login\", {\n      // email, password\n      // });\n      // setUserData({\n      // token: loginResponse.data.token,\n      // user: loginResponse.data.user\n      // });\n      // localStorage.setItem(\"auth-token\", loginResponse.data.token);\n\n      history.push(\"/\");\n    } catch (err) {\n      err.response.data.msg && setError(err.response.data.msg);\n    }\n  };\n\n  const sacaSector = () => api.getSector().then(res => {\n    return res;\n  });\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 1\n    }, this), error && /*#__PURE__*/_jsxDEV(ErrorNotice, {\n      message: error,\n      clearError: () => setError(undefined)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Email: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        id: \"email\",\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 74\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Password: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"password\",\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 83\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"Confirm password\",\n        onChange: e => setPasswordCheck(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 105\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Nickname \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"nickname\",\n        onChange: e => setNickname(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 79\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Nombre \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"nombre\",\n        onChange: e => setNombre(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 75\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Apellidos \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"apellidos\",\n        onChange: e => setApellidos(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 81\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Fecha Nacimiento \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 33\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        id: \"fechaNacimiento\",\n        onChange: e => setFechaNacimiento(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 93\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Dni \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 20\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"dni\",\n        onChange: e => setDni(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 69\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Sexo \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"sexo\",\n        onChange: e => setSexo(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 71\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Direccion \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"direccion\",\n        onChange: e => setDireccion(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 81\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Ciudad \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"ciudad\",\n        onChange: e => setCiudad(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 75\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Localidad \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 26\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"localidad\",\n        onChange: e => setLocalidad(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 81\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Codigo Postal \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"cp\",\n        onChange: e => setCp(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 67\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Telefono \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"telefono\",\n        onChange: e => setTelefono(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 79\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Sector \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(Async, {\n        promiseFn: sacaSector,\n        children: ({\n          data,\n          err\n        }) => {\n          if (err) return `Something went wrong: ${err.message}`;\n\n          if (data) {\n            const selectSector = [];\n            data.data.data.map(sector => {\n              selectSector.push({\n                desc: sector,\n                val: sector\n              });\n            });\n            return /*#__PURE__*/_jsxDEV(Select, {\n              options: selectSector,\n              getOptionLabel: option => option.desc,\n              getOptionValue: option => option.val,\n              id: \"selectSector\",\n              placeholder: \"Selecciona un sector\",\n              onChange: onChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 17\n            }, this);\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Register\",\n        className: \"btn btn-primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 1\n  }, this);\n}\n\n_s(Register, \"dn0OnFua4KAvhnjrL/Z5mAWDtS8=\", false, function () {\n  return [useHistory];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["C:/Users/carsa/Desktop/pruebaUsuarios/frontend/src/components/auth/RegisterMedic.jsx"],"names":["React","useState","useContext","useHistory","axios","UserContext","ErrorNotice","Select","Async","api","Register","email","setEmail","password","setPassword","passwordCheck","setPasswordCheck","nickname","setNickname","rol","nombre","setNombre","apellidos","setApellidos","fechaNacimiento","setFechaNacimiento","dni","setDni","sexo","setSexo","direccion","setDireccion","ciudad","setCiudad","localidad","setLocalidad","cp","setCp","telefono","setTelefono","sector","setSector","error","setError","history","onChange","selectedOption","console","log","val","submit","e","preventDefault","newUser","post","push","err","response","data","msg","sacaSector","getSector","then","res","undefined","target","value","message","selectSector","map","desc","option"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport UserContext from \"../../context/userContext\";\r\nimport ErrorNotice from \"../misc/ErrorNotice\";\r\nimport Select from 'react-select';\r\nimport Async from 'react-async';\r\nimport api from '../../api'\r\nfunction Register () {\r\nconst [email, setEmail] = useState();\r\nconst [password, setPassword] = useState();\r\nconst [passwordCheck, setPasswordCheck] = useState();\r\nconst [nickname, setNickname] = useState();\r\nconst rol = \"Médico\";\r\nconst [nombre, setNombre] = useState();\r\nconst [apellidos, setApellidos] = useState();\r\nconst [fechaNacimiento, setFechaNacimiento] = useState();\r\nconst [dni, setDni] = useState();\r\nconst [sexo, setSexo] = useState();\r\nconst [direccion, setDireccion] = useState();\r\nconst [ciudad, setCiudad] = useState();\r\nconst [localidad, setLocalidad] = useState();\r\nconst [cp, setCp] = useState();\r\nconst [telefono, setTelefono] = useState();\r\nconst [sector, setSector] = useState();\r\nconst [error, setError] = useState();\r\nconst history = useHistory();\r\nconst onChange = async (selectedOption) => {\r\n\r\n    console.log(`Option selected:`, selectedOption);\r\n    setSector(selectedOption.val);\r\n    \r\n  };\r\nconst submit = async (e) => {\r\ne.preventDefault();\r\ntry{\r\nconst newUser = {email, password, passwordCheck, nickname,rol, nombre, apellidos, fechaNacimiento, dni, sexo, direccion, ciudad, localidad, cp, telefono,sector};\r\nawait axios.post(\"http://localhost:5000/medics/register\", newUser);\r\n// const loginResponse = await axios.post(\"http://localhost:5000/users/login\", {\r\n// email, password\r\n// });\r\n// setUserData({\r\n// token: loginResponse.data.token,\r\n// user: loginResponse.data.user\r\n// });\r\n// localStorage.setItem(\"auth-token\", loginResponse.data.token);\r\nhistory.push(\"/\");\r\n} catch(err) {\r\nerr.response.data.msg && setError(err.response.data.msg)\r\n}\r\n};\r\nconst sacaSector = () =>\r\napi.getSector()\r\n.then(res => {return res})\r\nreturn (\r\n<div className=\"register\">\r\n<h2>Register</h2>\r\n{error && <ErrorNotice message={error} clearError={() => setError(undefined)} />}\r\n<form onSubmit={submit}>\r\n<label>Email: </label><br></br>\r\n<input type=\"email\" id=\"email\" onChange={e => setEmail(e.target.value)}/><br></br>\r\n<label>Password: </label><br></br>\r\n<input type=\"password\" id=\"password\" onChange={e => setPassword(e.target.value)}/><br></br>\r\n<input type=\"password\" placeholder=\"Confirm password\" onChange={e => setPasswordCheck(e.target.value)}/><br></br>\r\n<label>Nickname </label><br></br>\r\n<input type=\"text\" id=\"nickname\" onChange={e => setNickname(e.target.value)}/><br></br>\r\n<label>Nombre </label><br></br>\r\n<input type=\"text\" id=\"nombre\" onChange={e => setNombre(e.target.value)}/><br></br>\r\n<label>Apellidos </label><br></br>\r\n<input type=\"text\" id=\"apellidos\" onChange={e => setApellidos(e.target.value)}/><br></br>\r\n<label>Fecha Nacimiento </label><br></br>\r\n<input type=\"date\" id=\"fechaNacimiento\" onChange={e => setFechaNacimiento(e.target.value)}/><br></br>\r\n<label>Dni </label><br></br>\r\n<input type=\"text\" id=\"dni\" onChange={e => setDni(e.target.value)}/><br></br>\r\n<label>Sexo </label><br></br>\r\n<input type=\"text\" id=\"sexo\" onChange={e => setSexo(e.target.value)}/><br></br>\r\n<label>Direccion </label><br></br>\r\n<input type=\"text\" id=\"direccion\" onChange={e => setDireccion(e.target.value)}/><br></br>\r\n<label>Ciudad </label><br></br>\r\n<input type=\"text\" id=\"ciudad\" onChange={e => setCiudad(e.target.value)}/><br></br>\r\n<label>Localidad </label><br></br>\r\n<input type=\"text\" id=\"localidad\" onChange={e => setLocalidad(e.target.value)}/><br></br>\r\n<label>Codigo Postal </label><br></br>\r\n<input type=\"text\" id=\"cp\" onChange={e => setCp(e.target.value)}/><br></br>\r\n<label>Telefono </label><br></br>\r\n<input type=\"text\" id=\"telefono\" onChange={e => setTelefono(e.target.value)}/><br></br>\r\n<label>Sector </label><br></br>\r\n<Async promiseFn={sacaSector}>\r\n\r\n{({ data, err }) => {\r\n          if (err) return `Something went wrong: ${err.message}`\r\n\r\n          if (data){\r\n\r\n            const selectSector = [];\r\n            data.data.data.map((sector) => { selectSector.push({ desc:sector, val: sector  })});\r\n\r\n            return (\r\n                <Select options={selectSector} getOptionLabel={(option)=>option.desc}\r\n                getOptionValue={(option)=>option.val } id=\"selectSector\" placeholder=\"Selecciona un sector\" onChange={onChange} ></Select>\r\n                \r\n            )}\r\n        }}\r\n</Async><br></br>\r\n<input type=\"submit\" value=\"Register\" className=\"btn btn-primary\" />\r\n</form>\r\n</div>\r\n);\r\n}\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}