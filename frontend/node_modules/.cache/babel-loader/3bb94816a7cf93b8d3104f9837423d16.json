{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\carsa\\\\Desktop\\\\pruebaUsuarios\\\\frontend\\\\src\\\\components\\\\enfermedades\\\\EditarEnfermedad.jsx\";\nimport React, { Component, useContext, useEffect } from 'react';\nimport api from '../../api';\nimport { useHistory, Redirect } from \"react-router-dom\";\nimport UserContext from \"../../context/userContext\";\nimport { useOktaAuth } from \"@okta/okta-react\";\nimport firebase from \"firebase/app\";\nimport moment from 'moment';\nimport \"firebase/auth\";\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Title = styled.h1.attrs({\n  className: 'h1'\n})``;\n_c = Title;\nconst Wrapper = styled.div.attrs({\n  className: 'form-group'\n})`\n    margin: 0 30px;\n`;\n_c2 = Wrapper;\nconst Label = styled.label`\n    margin: 5px;\n`;\n_c3 = Label;\nconst InputText = styled.input.attrs({\n  className: 'form-control'\n})`\n    margin: 5px;\n`;\n_c4 = InputText;\nconst Button = styled.button.attrs({\n  className: `btn btn-primary`\n})`\n    margin: 15px 15px 15px 5px;\n`;\n_c5 = Button;\nconst CancelButton = styled.a.attrs({\n  className: `btn btn-danger`\n})`\n    margin: 15px 15px 15px 5px;\n`;\n_c6 = CancelButton;\n\nclass EditarEnfermedad extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeInputNombre = async event => {\n      const nombre = event.target.validity.valid ? event.target.value : this.state.nombre;\n      this.setState({\n        nombre\n      });\n    };\n\n    this.handleChangeInputDescripcion = async event => {\n      const descripcion = event.target.validity.valid ? event.target.value : this.state.descripcion;\n      this.setState({\n        descripcion\n      });\n    };\n\n    this.handleUpdateEnfermedad = async () => {\n      const {\n        id,\n        nombre,\n        descripcion\n      } = this.state;\n      const payload = {\n        nombre,\n        descripcion\n      };\n      await api.editEnfermedad(id, payload).then(res => {\n        console.log(`Consulta updated successfully`);\n        this.setState({\n          nombre: '',\n          descripcion: ''\n        });\n        this.props.history.push('/');\n      });\n    };\n\n    this.componentWillMount = async () => {\n      const {\n        idEnfermedad\n      } = this.state;\n      const {\n        idUser\n      } = this.state;\n      console.log(idUser);\n      const enfermedad = await api.getEnfermedad(id);\n\n      if (idUser != consulta.data.data.medico) {\n        this.props.history.push('/error');\n      }\n\n      this.setState({\n        nombre: enfermedad.data.data.nombre,\n        descripcion: enfermedad.data.data.descripcion\n      });\n    };\n\n    this.state = {\n      idEnfermedad: this.props.match.params.idUser,\n      idUser: this.props.userData.id,\n      nombre: '',\n      descripcion: ''\n    };\n  }\n\n  render() {\n    const {\n      nombre,\n      descripcion,\n      idEnfermedad\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form\",\n      children: /*#__PURE__*/_jsxDEV(Wrapper, {\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          children: \"Editar enfermedad\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"input\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"inputBox\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"Nombre: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(InputText, {\n              type: \"text\",\n              value: nombre,\n              onChange: this.handleChangeInputNombre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"inputBox\",\n            children: [/*#__PURE__*/_jsxDEV(Label, {\n              children: \"Descripci\\xF3n: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(InputText, {\n              type: \"text\",\n              value: descripcion,\n              onChange: this.handleChangeInputDescripcion\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"inputBox\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: this.handleUpdateEnfermedad,\n              children: \"Editar enfermedad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"inputBox\",\n            children: /*#__PURE__*/_jsxDEV(CancelButton, {\n              href: '/',\n              children: \"Cancelar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default EditarEnfermedad;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Title\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"Label\");\n$RefreshReg$(_c4, \"InputText\");\n$RefreshReg$(_c5, \"Button\");\n$RefreshReg$(_c6, \"CancelButton\");","map":{"version":3,"sources":["C:/Users/carsa/Desktop/pruebaUsuarios/frontend/src/components/enfermedades/EditarEnfermedad.jsx"],"names":["React","Component","useContext","useEffect","api","useHistory","Redirect","UserContext","useOktaAuth","firebase","moment","styled","Title","h1","attrs","className","Wrapper","div","Label","label","InputText","input","Button","button","CancelButton","a","EditarEnfermedad","constructor","props","handleChangeInputNombre","event","nombre","target","validity","valid","value","state","setState","handleChangeInputDescripcion","descripcion","handleUpdateEnfermedad","id","payload","editEnfermedad","then","res","console","log","history","push","componentWillMount","idEnfermedad","idUser","enfermedad","getEnfermedad","consulta","data","medico","match","params","userData","render"],"mappings":"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","sourcesContent":["import React, { Component,useContext,useEffect } from 'react'\r\nimport api from '../../api'\r\nimport { useHistory,Redirect } from \"react-router-dom\";\r\nimport UserContext from \"../../context/userContext\";\r\nimport { useOktaAuth } from \"@okta/okta-react\";\r\nimport firebase from \"firebase/app\";\r\nimport moment from 'moment';\r\nimport \"firebase/auth\";\r\n\r\nimport styled from 'styled-components'\r\n\r\nconst Title = styled.h1.attrs({\r\n    className: 'h1',\r\n})``\r\n\r\nconst Wrapper = styled.div.attrs({\r\n    className: 'form-group',\r\n})`\r\n    margin: 0 30px;\r\n`\r\n\r\nconst Label = styled.label`\r\n    margin: 5px;\r\n`\r\n\r\nconst InputText = styled.input.attrs({\r\n    className: 'form-control',\r\n})`\r\n    margin: 5px;\r\n`\r\n\r\nconst Button = styled.button.attrs({\r\n    className: `btn btn-primary`,\r\n})`\r\n    margin: 15px 15px 15px 5px;\r\n`\r\n\r\nconst CancelButton = styled.a.attrs({\r\n    className: `btn btn-danger`,\r\n})`\r\n    margin: 15px 15px 15px 5px;\r\n`\r\n\r\n\r\nclass EditarEnfermedad extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            idEnfermedad: this.props.match.params.idUser,\r\n            idUser: this.props.userData.id,\r\n            nombre: '',\r\n            descripcion: '',\r\n        }\r\n    }\r\n\r\n    handleChangeInputNombre = async event => {\r\n        const nombre = event.target.validity.valid\r\n            ? event.target.value\r\n            : this.state.nombre\r\n\r\n        this.setState({ nombre })\r\n    }\r\n\r\n    handleChangeInputDescripcion = async event => {\r\n        const descripcion = event.target.validity.valid\r\n            ? event.target.value\r\n            : this.state.descripcion\r\n\r\n        this.setState({ descripcion })\r\n    }\r\n\r\n\r\n    handleUpdateEnfermedad = async () => {\r\n        const { id, nombre, descripcion } = this.state\r\n        const payload = { nombre, descripcion }\r\n\r\n        await api.editEnfermedad(id, payload).then(res => {\r\n           console.log(`Consulta updated successfully`)\r\n            this.setState({\r\n                nombre: '',\r\n                descripcion: '',\r\n            })\r\n            this.props.history.push('/');\r\n        })\r\n    }\r\n\r\n    componentWillMount = async () => {\r\n        const { idEnfermedad } = this.state\r\n        const {idUser} =this.state\r\n        console.log(idUser)\r\n        const enfermedad = await api.getEnfermedad(id)\r\n        if(idUser != consulta.data.data.medico){\r\n            this.props.history.push('/error');\r\n        }\r\n        this.setState({\r\n            nombre: enfermedad.data.data.nombre,\r\n            descripcion: enfermedad.data.data.descripcion,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { nombre, descripcion,idEnfermedad } = this.state\r\n        return (\r\n            <div className=\"form\">\r\n            <Wrapper>\r\n                <Title>Editar enfermedad</Title>\r\n                <div class=\"input\">\r\n                <div class=\"inputBox\">\r\n                <Label>Nombre: </Label>\r\n                <InputText\r\n                    type=\"text\"\r\n                    value={nombre}\r\n                    onChange={this.handleChangeInputNombre}\r\n                />\r\n                </div>\r\n                <div class=\"inputBox\">\r\n                <Label>Descripción: </Label>\r\n                <InputText\r\n                    type=\"text\"\r\n                    value={descripcion}\r\n                    onChange={this.handleChangeInputDescripcion}\r\n                />\r\n                </div>\r\n                <div class=\"inputBox\">\r\n                <Button onClick={this.handleUpdateEnfermedad}>Editar enfermedad</Button>\r\n                </div>\r\n                <div class=\"inputBox\">\r\n                <CancelButton href={'/'}>Cancelar</CancelButton>\r\n                </div>\r\n                </div>\r\n            </Wrapper>\r\n            </div>\r\n        )\r\n}\r\n}\r\n\r\nexport default EditarEnfermedad"]},"metadata":{},"sourceType":"module"}