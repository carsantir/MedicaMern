{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\carsa\\\\Desktop\\\\pruebaUsuarios\\\\frontend\\\\src\\\\components\\\\auth\\\\AuthOptions.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport UserContext from \"../../context/userContext\";\nimport moment from \"moment\";\nimport axios from \"axios\";\nimport api from '../../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction AuthOptions() {\n  _s();\n\n  const {\n    userData,\n    setUserData\n  } = useContext(UserContext);\n  const [error, setError] = useState();\n  const history = useHistory();\n\n  const register = () => history.push(\"/register\");\n\n  const login = () => history.push(\"/login\");\n\n  const registerMedic = () => history.push(\"/registerMedic\");\n\n  const consultas = () => history.push(\"/\" + userData.user.id + \"/consultas\");\n\n  const covid19 = () => history.push(\"/\" + userData.user.id + \"/covid19\");\n\n  const citas = () => history.push(\"/\" + userData.user.id + \"/citas\");\n\n  const informes = () => history.push(\"/\" + userData.user.id + \"/informes\");\n\n  const enfermedades = () => history.push(\"/\" + userData.user.id + \"/enfermedades\");\n\n  const miPerfil = () => history.push(\"/\" + userData.user.id);\n\n  const crearConsultaAtencionEspecialModel = async e => {\n    e.preventDefault();\n\n    try {\n      const fecha = moment();\n      const finalizada = false;\n      const paciente = userData.user.id;\n      const user = await api.getUserById(paciente);\n      const medico = user.data.data.medico;\n      const newUser = {\n        fecha,\n        finalizada,\n        paciente,\n        medico\n      };\n      await axios.post(\"http://localhost:5000/consultaAtencionEspecial/add\", newUser);\n      history.push(\"/\");\n    } catch (err) {\n      err.response.data.msg && setError(err.response.data.msg);\n    }\n  };\n\n  const logout = () => {\n    setUserData({\n      token: undefined,\n      user: undefined\n    });\n    localStorage.setItem(\"auth-token\", \"\");\n  };\n\n  if (userData.user) {\n    if (userData.user.rol == \"Paciente\") {\n      return /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"auth-options\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"button-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"rad-button wwt flat\",\n            onClick: crearConsultaAtencionEspecialModel,\n            children: \"Urgencia\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"button-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"rad-button wwt flat\",\n            onClick: covid19,\n            children: \"COVID-19\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"button-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"rad-button wwt flat\",\n            onClick: consultas,\n            children: \"Consultas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"button-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"rad-button wwt flat\",\n            onClick: miPerfil,\n            children: \"Mi Perfil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"button-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"rad-button wwt flat\",\n            onClick: logout,\n            children: \"Cerrar sesi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 15\n      }, this);\n    } else if (userData.user.rol == \"Médico\") {\n      return /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"auth-options\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"button-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"rad-button wwt flat\",\n            onClick: logout,\n            children: \"Cerrar sesi\\xF3n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 3\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"button-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"rad-button wwt flat\",\n            onClick: consultas,\n            children: \"Consultas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 3\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"button-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"rad-button wwt flat\",\n            onClick: covid19,\n            children: \"COVID-19\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"button-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"rad-button wwt flat\",\n            onClick: citas,\n            children: \"Citas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 3\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"button-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"rad-button wwt flat\",\n            onClick: informes,\n            children: \"Informes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 3\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"button-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"rad-button wwt flat\",\n            onClick: enfermedades,\n            children: \"Enfermedades\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 3\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this);\n    }\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"auth-options\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"button-wrap\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"rad-button wwt flat\",\n          onClick: register,\n          children: \"Registrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"button-wrap\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"rad-button wwt flat\",\n          onClick: registerMedic,\n          children: \"Registrar m\\xE9dico\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"button-wrap\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          class: \"rad-button wwt flat\",\n          onClick: login,\n          children: \"Iniciar sesi\\xF3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this);\n  }\n}\n\n_s(AuthOptions, \"mMWH5F+VbeoVaFAvsvGVSYChMxw=\", false, function () {\n  return [useHistory];\n});\n\n_c = AuthOptions;\nexport default AuthOptions;\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthOptions\");","map":{"version":3,"sources":["C:/Users/carsa/Desktop/pruebaUsuarios/frontend/src/components/auth/AuthOptions.jsx"],"names":["React","useContext","useState","useHistory","UserContext","moment","axios","api","AuthOptions","userData","setUserData","error","setError","history","register","push","login","registerMedic","consultas","user","id","covid19","citas","informes","enfermedades","miPerfil","crearConsultaAtencionEspecialModel","e","preventDefault","fecha","finalizada","paciente","getUserById","medico","data","newUser","post","err","response","msg","logout","token","undefined","localStorage","setItem","rol"],"mappings":"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","sourcesContent":["import React, { useContext,useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport UserContext from \"../../context/userContext\";\r\nimport moment from \"moment\";\r\nimport axios from \"axios\";\r\nimport api from '../../api'\r\nfunction AuthOptions () {\r\nconst { userData, setUserData } = useContext(UserContext);\r\nconst [error, setError] = useState();\r\nconst history = useHistory();\r\nconst register = () => history.push(\"/register\");\r\nconst login = () => history.push(\"/login\");\r\nconst registerMedic = () => history.push(\"/registerMedic\");\r\nconst consultas = () => history.push(\"/\"+userData.user.id+\"/consultas\");\r\nconst covid19 = () => history.push(\"/\"+userData.user.id+\"/covid19\");\r\nconst citas = () => history.push(\"/\"+userData.user.id+\"/citas\");\r\nconst informes = () => history.push(\"/\"+userData.user.id+\"/informes\");\r\nconst enfermedades = () => history.push(\"/\"+userData.user.id+\"/enfermedades\");\r\nconst miPerfil = () => history.push(\"/\"+userData.user.id);\r\nconst crearConsultaAtencionEspecialModel = async (e) => {\r\n  e.preventDefault();\r\n  try{\r\n    const fecha = moment();\r\n    const finalizada = false;\r\n    const paciente = userData.user.id;\r\n    const user = await api.getUserById(paciente);\r\n    const medico = user.data.data.medico;\r\n    const newUser = {fecha,finalizada,paciente,medico};\r\n    await axios.post(\"http://localhost:5000/consultaAtencionEspecial/add\", newUser);\r\n    \r\n    history.push(\"/\");\r\n    } catch(err) {\r\n    err.response.data.msg && setError(err.response.data.msg)\r\n    }\r\n  \r\n};\r\nconst logout = () => {\r\nsetUserData({\r\ntoken: undefined,\r\nuser: undefined\r\n})\r\nlocalStorage.setItem(\"auth-token\",\"\");\r\n};\r\nif(userData.user){\r\n  if(userData.user.rol==\"Paciente\"){\r\n      return (<nav className=\"auth-options\">\r\n            <div class = \"button-wrap\">\r\n    <button class = \"rad-button wwt flat\" onClick={crearConsultaAtencionEspecialModel}>Urgencia</button>\r\n    </div>\r\n    <div class = \"button-wrap\">\r\n    <button class = \"rad-button wwt flat\" onClick={covid19}>COVID-19</button>\r\n    </div>\r\n    <div class = \"button-wrap\">\r\n        <button class = \"rad-button wwt flat\" onClick={consultas}>Consultas</button>\r\n      </div>\r\n    <div class = \"button-wrap\">\r\n    <button class = \"rad-button wwt flat\" onClick={miPerfil}>Mi Perfil</button>\r\n    </div>\r\n          <div class = \"button-wrap\">\r\n        <button class = \"rad-button wwt flat\" onClick={logout}>Cerrar sesión</button>\r\n      </div>\r\n \r\n   \r\n      {/* <div class = \"button-wrap\">\r\n        <button class = \"rad-button wwt flat\" onClick={citas}>Citas</button>\r\n      </div> */}\r\n\r\n      {/* <div class = \"button-wrap\">\r\n        <button class = \"rad-button wwt flat\" onClick={informes}>Informes</button>\r\n      </div> */}\r\n\r\n      {/* <div class = \"button-wrap\">\r\n        <button class = \"rad-button wwt flat\" onClick={enfermedades}>Enfermedades</button>\r\n      </div> */}\r\n  </nav>)\r\n  }else if(userData.user.rol==\"Médico\"){\r\n    return (<nav className=\"auth-options\">\r\n    <div class = \"button-wrap\">\r\n  <button class = \"rad-button wwt flat\" onClick={logout}>Cerrar sesión</button>\r\n  </div>\r\n  <br></br>\r\n  <div class = \"button-wrap\">\r\n  <button class = \"rad-button wwt flat\" onClick={consultas}>Consultas</button>\r\n  </div>\r\n  <br></br>\r\n  <div class = \"button-wrap\">\r\n    <button class = \"rad-button wwt flat\" onClick={covid19}>COVID-19</button>\r\n    </div>\r\n  <br></br>\r\n  <div class = \"button-wrap\">\r\n  <button class = \"rad-button wwt flat\" onClick={citas}>Citas</button>\r\n  </div>\r\n  <br></br>\r\n  <div class = \"button-wrap\">\r\n  <button class = \"rad-button wwt flat\" onClick={informes}>Informes</button>\r\n  </div>\r\n  <br></br>\r\n  <div class = \"button-wrap\">\r\n  <button class = \"rad-button wwt flat\" onClick={enfermedades}>Enfermedades</button>\r\n  </div>\r\n  </nav>)\r\n  }\r\n}else{\r\n    return (<nav className=\"auth-options\">\r\n                    <div class = \"button-wrap\">\r\n                    <button class = \"rad-button wwt flat\" onClick={register}>Registrar</button>\r\n                    </div>\r\n                    <br></br>\r\n                    <div class = \"button-wrap\">\r\n                    <button class = \"rad-button wwt flat\" onClick={registerMedic}>Registrar médico</button>\r\n                    </div>\r\n                    <br></br>\r\n                    <div class = \"button-wrap\">\r\n                    <button class = \"rad-button wwt flat\" onClick={login}>Iniciar sesión</button>\r\n                    </div>\r\n            </nav>)\r\n}\r\n}\r\nexport default AuthOptions;"]},"metadata":{},"sourceType":"module"}