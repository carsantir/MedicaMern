{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\carsa\\\\Desktop\\\\pruebaUsuarios\\\\frontend\\\\src\\\\components\\\\consultas\\\\EditarConsulta.jsx\";\nimport React, { Component, useContext } from 'react';\nimport api from '../../api';\nimport { useHistory, Redirect } from \"react-router-dom\";\nimport UserContext from \"../../context/userContext\";\nimport { useOktaAuth } from \"@okta/okta-react\";\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Title = styled.h1.attrs({\n  className: 'h1'\n})``;\n_c = Title;\nconst Wrapper = styled.div.attrs({\n  className: 'form-group'\n})`\n    margin: 0 30px;\n`;\n_c2 = Wrapper;\nconst Label = styled.label`\n    margin: 5px;\n`;\n_c3 = Label;\nconst InputText = styled.input.attrs({\n  className: 'form-control'\n})`\n    margin: 5px;\n`;\n_c4 = InputText;\nconst Button = styled.button.attrs({\n  className: `btn btn-primary`\n})`\n    margin: 15px 15px 15px 5px;\n`;\n_c5 = Button;\nconst CancelButton = styled.a.attrs({\n  className: `btn btn-danger`\n})`\n    margin: 15px 15px 15px 5px;\n`;\n_c6 = CancelButton;\n\nclass EditarConsulta extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeInputFecha = async event => {\n      const fecha = event.target.value;\n      this.setState({\n        fecha\n      });\n    };\n\n    this.handleChangeInputMotivo = async event => {\n      const motivo = event.target.validity.valid ? event.target.value : this.state.motivo;\n      this.setState({\n        motivo\n      });\n    };\n\n    this.handleUpdateConsulta = async () => {\n      const {\n        id,\n        fecha,\n        motivo\n      } = this.state;\n      const payload = {\n        fecha,\n        motivo\n      };\n      await api.editarConsulta(id, payload).then(res => {\n        console.log(`Consulta updated successfully`);\n        this.setState({\n          fecha: '',\n          motivo: ''\n        });\n        this.props.history.push('/consultas');\n      });\n    };\n\n    this.componentWillMount = async () => {\n      const {\n        id\n      } = this.state;\n      console.log(id);\n      const consulta = await api.getConsultaById(id);\n      this.setState({\n        fecha: consulta.data.data.fecha,\n        motivo: consulta.data.data.motivo\n      });\n    };\n\n    this.state = {\n      id: this.props.match.params.id,\n      fecha: '',\n      motivo: ''\n    };\n  }\n\n  render() {\n    const {\n      fecha,\n      motivo\n    } = this.state;\n    console.log(this.state.usuario);\n\n    if (this.state.usuario) {\n      return /*#__PURE__*/_jsxDEV(Wrapper, {\n        children: [/*#__PURE__*/_jsxDEV(Title, {\n          children: \"Create consulta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Label, {\n          children: \"Fecha: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(InputText, {\n          type: \"text\",\n          value: fecha,\n          onChange: this.handleChangeInputFecha\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Label, {\n          children: \"Motivo: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(InputText, {\n          type: \"text\",\n          value: motivo,\n          onChange: this.handleChangeInputMotivo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: this.handleUpdateConsulta,\n          children: \"Editar consulta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(CancelButton, {\n          href: '/enquiries',\n          children: \"Cancelar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }, this);\n    }\n  }\n\n}\n\nexport default EditarConsulta;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Title\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"Label\");\n$RefreshReg$(_c4, \"InputText\");\n$RefreshReg$(_c5, \"Button\");\n$RefreshReg$(_c6, \"CancelButton\");","map":{"version":3,"sources":["C:/Users/carsa/Desktop/pruebaUsuarios/frontend/src/components/consultas/EditarConsulta.jsx"],"names":["React","Component","useContext","api","useHistory","Redirect","UserContext","useOktaAuth","styled","Title","h1","attrs","className","Wrapper","div","Label","label","InputText","input","Button","button","CancelButton","a","EditarConsulta","constructor","props","handleChangeInputFecha","event","fecha","target","value","setState","handleChangeInputMotivo","motivo","validity","valid","state","handleUpdateConsulta","id","payload","editarConsulta","then","res","console","log","history","push","componentWillMount","consulta","getConsultaById","data","match","params","render","usuario"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,SAASC,UAAT,EAAoBC,QAApB,QAAoC,kBAApC;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AAEA,OAAOC,MAAP,MAAmB,mBAAnB;;AAEA,MAAMC,KAAK,GAAGD,MAAM,CAACE,EAAP,CAAUC,KAAV,CAAgB;AAC1BC,EAAAA,SAAS,EAAE;AADe,CAAhB,CAEX,EAFH;KAAMH,K;AAIN,MAAMI,OAAO,GAAGL,MAAM,CAACM,GAAP,CAAWH,KAAX,CAAiB;AAC7BC,EAAAA,SAAS,EAAE;AADkB,CAAjB,CAEb;AACH;AACA,CAJA;MAAMC,O;AAMN,MAAME,KAAK,GAAGP,MAAM,CAACQ,KAAM;AAC3B;AACA,CAFA;MAAMD,K;AAIN,MAAME,SAAS,GAAGT,MAAM,CAACU,KAAP,CAAaP,KAAb,CAAmB;AACjCC,EAAAA,SAAS,EAAE;AADsB,CAAnB,CAEf;AACH;AACA,CAJA;MAAMK,S;AAMN,MAAME,MAAM,GAAGX,MAAM,CAACY,MAAP,CAAcT,KAAd,CAAoB;AAC/BC,EAAAA,SAAS,EAAG;AADmB,CAApB,CAEZ;AACH;AACA,CAJA;MAAMO,M;AAMN,MAAME,YAAY,GAAGb,MAAM,CAACc,CAAP,CAASX,KAAT,CAAe;AAChCC,EAAAA,SAAS,EAAG;AADoB,CAAf,CAElB;AACH;AACA,CAJA;MAAMS,Y;;AAKN,MAAME,cAAN,SAA6BtB,SAA7B,CAAuC;AACnCuB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAUnBC,sBAVmB,GAUM,MAAMC,KAAN,IAAe;AACpC,YAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAA3B;AACA,WAAKC,QAAL,CAAc;AAAEH,QAAAA;AAAF,OAAd;AACH,KAbkB;;AAAA,SAenBI,uBAfmB,GAeO,MAAML,KAAN,IAAe;AACrC,YAAMM,MAAM,GAAGN,KAAK,CAACE,MAAN,CAAaK,QAAb,CAAsBC,KAAtB,GACTR,KAAK,CAACE,MAAN,CAAaC,KADJ,GAET,KAAKM,KAAL,CAAWH,MAFjB;AAIA,WAAKF,QAAL,CAAc;AAAEE,QAAAA;AAAF,OAAd;AACH,KArBkB;;AAAA,SAwBnBI,oBAxBmB,GAwBI,YAAY;AAC/B,YAAM;AAAEC,QAAAA,EAAF;AAAMV,QAAAA,KAAN;AAAaK,QAAAA;AAAb,UAAwB,KAAKG,KAAnC;AACA,YAAMG,OAAO,GAAG;AAAEX,QAAAA,KAAF;AAASK,QAAAA;AAAT,OAAhB;AAEA,YAAM9B,GAAG,CAACqC,cAAJ,CAAmBF,EAAnB,EAAuBC,OAAvB,EAAgCE,IAAhC,CAAqCC,GAAG,IAAI;AAC/CC,QAAAA,OAAO,CAACC,GAAR,CAAa,+BAAb;AACC,aAAKb,QAAL,CAAc;AACVH,UAAAA,KAAK,EAAE,EADG;AAEVK,UAAAA,MAAM,EAAE;AAFE,SAAd;AAIA,aAAKR,KAAL,CAAWoB,OAAX,CAAmBC,IAAnB,CAAwB,YAAxB;AACH,OAPK,CAAN;AAQH,KApCkB;;AAAA,SAsCnBC,kBAtCmB,GAsCE,YAAY;AAC7B,YAAM;AAAET,QAAAA;AAAF,UAAS,KAAKF,KAApB;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAYN,EAAZ;AACA,YAAMU,QAAQ,GAAG,MAAM7C,GAAG,CAAC8C,eAAJ,CAAoBX,EAApB,CAAvB;AACA,WAAKP,QAAL,CAAc;AACVH,QAAAA,KAAK,EAAEoB,QAAQ,CAACE,IAAT,CAAcA,IAAd,CAAmBtB,KADhB;AAEVK,QAAAA,MAAM,EAAEe,QAAQ,CAACE,IAAT,CAAcA,IAAd,CAAmBjB;AAFjB,OAAd;AAIH,KA9CkB;;AAGf,SAAKG,KAAL,GAAa;AACTE,MAAAA,EAAE,EAAE,KAAKb,KAAL,CAAW0B,KAAX,CAAiBC,MAAjB,CAAwBd,EADnB;AAETV,MAAAA,KAAK,EAAE,EAFE;AAGTK,MAAAA,MAAM,EAAE;AAHC,KAAb;AAKH;;AAwCDoB,EAAAA,MAAM,GAAG;AACL,UAAM;AAAEzB,MAAAA,KAAF;AAASK,MAAAA;AAAT,QAAoB,KAAKG,KAA/B;AACAO,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKR,KAAL,CAAWkB,OAAvB;;AACA,QAAG,KAAKlB,KAAL,CAAWkB,OAAd,EAAsB;AACtB,0BACI,QAAC,OAAD;AAAA,gCACI,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAGI,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,eAII,QAAC,SAAD;AACI,UAAA,IAAI,EAAC,MADT;AAEI,UAAA,KAAK,EAAE1B,KAFX;AAGI,UAAA,QAAQ,EAAE,KAAKF;AAHnB;AAAA;AAAA;AAAA;AAAA,gBAJJ,eAUI,QAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVJ,eAWI,QAAC,SAAD;AACI,UAAA,IAAI,EAAC,MADT;AAEI,UAAA,KAAK,EAAEO,MAFX;AAGI,UAAA,QAAQ,EAAE,KAAKD;AAHnB;AAAA;AAAA;AAAA;AAAA,gBAXJ,eAiBI,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAE,KAAKK,oBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAjBJ,eAkBI,QAAC,YAAD;AAAc,UAAA,IAAI,EAAE,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAlBJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ;AAsBH,KAvBG,MAuBC;AACD,0BACI,QAAC,QAAD;AAAU,QAAA,EAAE,EAAE;AAAd;AAAA;AAAA;AAAA;AAAA,cADJ;AAGH;AACJ;;AAhFsC;;AAmFvC,eAAed,cAAf","sourcesContent":["import React, { Component,useContext } from 'react'\r\nimport api from '../../api'\r\nimport { useHistory,Redirect } from \"react-router-dom\";\r\nimport UserContext from \"../../context/userContext\";\r\nimport { useOktaAuth } from \"@okta/okta-react\";\r\n\r\nimport styled from 'styled-components'\r\n\r\nconst Title = styled.h1.attrs({\r\n    className: 'h1',\r\n})``\r\n\r\nconst Wrapper = styled.div.attrs({\r\n    className: 'form-group',\r\n})`\r\n    margin: 0 30px;\r\n`\r\n\r\nconst Label = styled.label`\r\n    margin: 5px;\r\n`\r\n\r\nconst InputText = styled.input.attrs({\r\n    className: 'form-control',\r\n})`\r\n    margin: 5px;\r\n`\r\n\r\nconst Button = styled.button.attrs({\r\n    className: `btn btn-primary`,\r\n})`\r\n    margin: 15px 15px 15px 5px;\r\n`\r\n\r\nconst CancelButton = styled.a.attrs({\r\n    className: `btn btn-danger`,\r\n})`\r\n    margin: 15px 15px 15px 5px;\r\n`\r\nclass EditarConsulta extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            id: this.props.match.params.id,\r\n            fecha: '',\r\n            motivo: '',\r\n        }\r\n    }\r\n\r\n    handleChangeInputFecha = async event => {\r\n        const fecha = event.target.value\r\n        this.setState({ fecha })\r\n    }\r\n\r\n    handleChangeInputMotivo = async event => {\r\n        const motivo = event.target.validity.valid\r\n            ? event.target.value\r\n            : this.state.motivo\r\n\r\n        this.setState({ motivo })\r\n    }\r\n\r\n\r\n    handleUpdateConsulta = async () => {\r\n        const { id, fecha, motivo } = this.state\r\n        const payload = { fecha, motivo }\r\n\r\n        await api.editarConsulta(id, payload).then(res => {\r\n           console.log(`Consulta updated successfully`)\r\n            this.setState({\r\n                fecha: '',\r\n                motivo: '',\r\n            })\r\n            this.props.history.push('/consultas');\r\n        })\r\n    }\r\n\r\n    componentWillMount = async () => {\r\n        const { id } = this.state\r\n        console.log(id)\r\n        const consulta = await api.getConsultaById(id)\r\n        this.setState({\r\n            fecha: consulta.data.data.fecha,\r\n            motivo: consulta.data.data.motivo,\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const { fecha, motivo } = this.state\r\n        console.log(this.state.usuario)\r\n        if(this.state.usuario){\r\n        return (\r\n            <Wrapper>\r\n                <Title>Create consulta</Title>\r\n\r\n                <Label>Fecha: </Label>\r\n                <InputText\r\n                    type=\"text\"\r\n                    value={fecha}\r\n                    onChange={this.handleChangeInputFecha}\r\n                />\r\n\r\n                <Label>Motivo: </Label>\r\n                <InputText\r\n                    type=\"text\"\r\n                    value={motivo}\r\n                    onChange={this.handleChangeInputMotivo}\r\n                />\r\n\r\n                <Button onClick={this.handleUpdateConsulta}>Editar consulta</Button>\r\n                <CancelButton href={'/enquiries'}>Cancelar</CancelButton>\r\n            </Wrapper>\r\n        )\r\n    }else{\r\n        return(\r\n            <Redirect to={\"/login\"}/> \r\n        );\r\n    }\r\n}\r\n}\r\n\r\nexport default EditarConsulta"]},"metadata":{},"sourceType":"module"}